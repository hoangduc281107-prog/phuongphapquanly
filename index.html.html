<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>5 Ph∆∞∆°ng Ph√°p Qu·∫£n L√Ω ‚Äì B·∫£n N√¢ng C·∫•p</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#070A12; --bg1:#0B1020;
      --card:rgba(255,255,255,.06); --card2:rgba(255,255,255,.09);
      --stroke:rgba(255,255,255,.14);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.66);
      --muted2:rgba(255,255,255,.45);
      --shadow:0 18px 60px rgba(0,0,0,.45);
      --ring:0 0 0 3px rgba(130,170,255,.22);
      --radius:18px; --radius2:14px;

      --accent:#86a8ff; --accent2:#7ef0ff; --accent3:#d28cff;
      --ok:#35d07f; --warn:#ffd166; --bad:#ff5c7a;
      --container:1180px;
    }

    [data-theme="light"]{
      --bg0:#f6f8ff; --bg1:#ffffff;
      --card:rgba(10,30,60,.05); --card2:rgba(10,30,60,.08);
      --stroke:rgba(10,30,60,.12);
      --text:rgba(10,18,40,.92);
      --muted:rgba(10,18,40,.70);
      --muted2:rgba(10,18,40,.48);
      --shadow:0 18px 60px rgba(12,18,40,.12);
      --accent:#3a66ff; --accent2:#00a8c6; --accent3:#8b38ff;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 15% 10%, rgba(134,168,255,.22), transparent 55%),
        radial-gradient(900px 600px at 85% 20%, rgba(126,240,255,.18), transparent 55%),
        radial-gradient(1000px 700px at 60% 95%, rgba(210,140,255,.16), transparent 55%),
        linear-gradient(180deg,var(--bg0),var(--bg1));
      overflow-x:hidden;
    }

    .wrap{max-width:var(--container);margin:0 auto;padding:28px 18px 46px}
    header{display:flex;align-items:flex-start;justify-content:space-between;gap:14px;margin-bottom:18px;flex-wrap:wrap}
    .hero{flex:1;min-width:260px}
    .kicker{
      display:inline-flex;align-items:center;gap:10px;
      padding:8px 12px;border-radius:999px;
      background:linear-gradient(90deg, rgba(134,168,255,.18), rgba(126,240,255,.14));
      border:1px solid var(--stroke);
      color:var(--muted);
      font-weight:700;font-size:12.5px;letter-spacing:.2px;
      margin-bottom:12px;
    }
    .title{margin:0 0 6px;font-size:clamp(28px,2.6vw,44px);line-height:1.08;letter-spacing:-0.02em}
    .subtitle{margin:0;color:var(--muted);max-width:80ch;line-height:1.55;font-size:14.5px}

    .controls{display:flex;flex-direction:column;gap:10px;min-width:320px;align-items:flex-end}
    .row{display:flex;gap:10px;align-items:center;justify-content:flex-end;width:100%;flex-wrap:wrap}

    .btn{
      appearance:none;border:1px solid var(--stroke);
      background:var(--card);color:var(--text);
      border-radius:999px;padding:10px 12px;
      font-weight:700;font-size:13px;cursor:pointer;
      box-shadow:0 10px 30px rgba(0,0,0,.10);
      transition:transform .15s ease, background .15s ease, border-color .15s ease;
      user-select:none;
    }
    .btn:hover{transform:translateY(-1px);background:var(--card2)}
    .btn:focus-visible{outline:none;box-shadow:var(--ring)}

    .search{width:100%;position:relative}
    .search input{
      width:100%;
      padding:12px 12px 12px 40px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background:var(--card);
      color:var(--text);
      font-weight:700;font-size:13px;
      outline:none;
      transition:background .15s ease, box-shadow .15s ease;
    }
    .search input::placeholder{color:var(--muted2);font-weight:700}
    .search input:focus{box-shadow:var(--ring);background:var(--card2)}
    .search svg{position:absolute;left:13px;top:50%;transform:translateY(-50%);opacity:.75}

    .panel{
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    .topbar{
      display:flex;gap:10px;align-items:center;justify-content:space-between;
      padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.10);
      flex-wrap:wrap;
    }
    [data-theme="light"] .topbar{border-bottom-color:rgba(10,30,60,.10)}
    .crumbs{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .link{
      display:inline-flex;gap:8px;align-items:center;
      color:var(--muted);text-decoration:none;
      padding:8px 10px;border-radius:999px;border:1px solid var(--stroke);
      background:rgba(255,255,255,.04);
      font-weight:800;font-size:12.5px;
      transition:background .15s ease, transform .15s ease;
    }
    .link:hover{background:var(--card2);transform:translateY(-1px)}
    .meta{color:var(--muted2);font-weight:700;font-size:12.5px}

    .content{padding:16px}

    .grid{
      display:grid;
      grid-template-columns: repeat(12, minmax(0,1fr));
      gap:14px;
    }

    .card{
      border:1px solid var(--stroke);
      background:var(--card);
      border-radius:var(--radius);
      padding:14px 14px 12px;
      box-shadow:0 14px 48px rgba(0,0,0,.18);
      position:relative;
      overflow:hidden;
      backdrop-filter: blur(10px);
    }
    .card::before{
      content:"";
      position:absolute;inset:-1px -1px auto auto;
      width:190px;height:190px;
      transform:translate(30%,-30%);
      opacity:.85;pointer-events:none;
      background:
        radial-gradient(circle at 30% 30%, rgba(134,168,255,.30), transparent 65%),
        radial-gradient(circle at 70% 50%, rgba(126,240,255,.20), transparent 60%);
    }

    .h{
      display:flex;gap:10px;align-items:flex-start;justify-content:space-between;margin-bottom:10px
    }
    .h h3{margin:0;font-size:16px;letter-spacing:-0.01em;line-height:1.2}
    .k{margin-top:4px;color:var(--muted);font-size:12.5px;font-weight:700;line-height:1.35}

    .badge{
      display:inline-flex;align-items:center;gap:7px;
      padding:7px 10px;border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.05);
      color:var(--muted);
      font-weight:900;font-size:11.5px;letter-spacing:.25px;
      white-space:nowrap;
    }
    .dot{width:8px;height:8px;border-radius:999px;display:inline-block;box-shadow:0 0 0 3px rgba(255,255,255,.06)}
    .pillRow{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0 0}
    .pill{
      padding:7px 10px;border-radius:999px;
      border:1px dashed var(--stroke);
      background:rgba(255,255,255,.03);
      color:var(--muted);
      font-weight:800;font-size:12px;
    }

    details{border-top:1px solid rgba(255,255,255,.08);margin-top:10px;padding-top:10px}
    [data-theme="light"] details{border-top-color:rgba(10,30,60,.10)}
    summary{
      cursor:pointer;list-style:none;
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      user-select:none;color:var(--text);
      font-weight:900;font-size:13px;
    }
    summary::-webkit-details-marker{display:none}
    .chev{width:18px;height:18px;transition:transform .15s ease;opacity:.8;flex:0 0 auto}
    details[open] .chev{transform:rotate(180deg)}
    .body{margin-top:10px;color:var(--muted);font-size:13.2px;line-height:1.6}
    .body ul{margin:8px 0 0 18px;padding:0}
    .body li{margin:6px 0}

    .two{
      grid-column: span 6;
      min-height: 220px;
    }
    .full{grid-column: 1 / -1}
    .quiz{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:14px;
    }
    .quiz .card::before{background: radial-gradient(circle at 30% 30%, rgba(210,140,255,.26), transparent 62%), radial-gradient(circle at 70% 45%, rgba(134,168,255,.22), transparent 62%);}

    .check{
      display:flex;align-items:flex-start;gap:10px;
      padding:10px 12px;border-radius:var(--radius2);
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.03);
      margin:10px 0;
    }
    [data-theme="light"] .check{border-color:rgba(10,30,60,.12);background:rgba(10,30,60,.03)}
    .check input{margin-top:3px}
    .check label{cursor:pointer}
    .check b{color:var(--text)}
    .small{color:var(--muted2);font-weight:700;font-size:12.5px;line-height:1.55}

    .result{
      border-radius:var(--radius2);
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.04);
      padding:12px;
      margin-top:10px;
    }
    .scoreRow{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .chip{
      display:inline-flex;align-items:center;gap:7px;
      padding:8px 10px;border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.04);
      font-weight:900;font-size:12px;color:var(--muted);
    }

    mark{
      background: rgba(255, 209, 102, .28);
      color: inherit;
      padding: 0 .2em;
      border-radius: 6px;
      border: 1px solid rgba(255, 209, 102, .25);
    }

    footer{
      margin-top:14px;color:var(--muted2);
      font-size:12.5px;line-height:1.6;
      display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;padding:0 2px
    }
    footer b{color:var(--muted)}

    @media (max-width: 980px){
      .controls{min-width:0;width:100%;align-items:flex-start}
      .row{justify-content:flex-start}
      .two{grid-column: 1 / -1}
      .quiz{grid-template-columns:1fr}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="hero">
        <div class="kicker">üß© 5 ph∆∞∆°ng ph√°p ‚Ä¢ D·ªÖ h·ªçc ‚Ä¢ C√≥ g·ª£i √Ω ch·ªçn nhanh theo t√¨nh hu·ªëng</div>
        <h1 class="title">5 Ph∆∞∆°ng Ph√°p Qu·∫£n L√Ω</h1>
        <p class="subtitle">
          B·∫£n tr√¨nh b√†y n√†y t·∫≠p trung v√†o <b>c√°ch d√πng</b>: m·ªói ph∆∞∆°ng ph√°p ƒë·ªÅu c√≥ ‚Äúkhi n√†o n√™n d√πng‚Äù, ‚Äúd√πng th·∫ø n√†o cho ƒë√∫ng‚Äù
          v√† ‚Äúr·ªßi ro th∆∞·ªùng g·∫∑p‚Äù. B·∫°n c√≥ th·ªÉ d√πng ƒë·ªÉ thuy·∫øt tr√¨nh/√¥n t·∫≠p ho·∫∑c l√†m d·ª± √°n nh√≥m.
        </p>
      </div>

      <div class="controls">
        <div class="row">
          <button class="btn" id="btnTheme" title="ƒê·ªïi giao di·ªán s√°ng/t·ªëi">üåì ƒê·ªïi giao di·ªán</button>
          <button class="btn" id="btnExpand" title="M·ªü/ƒë√≥ng to√†n b·ªô n·ªôi dung">üìå M·ªü t·∫•t c·∫£</button>
          <button class="btn" id="btnReset" title="Xo√° t√¨m ki·∫øm & reset g·ª£i √Ω">‚ôªÔ∏è Reset</button>
        </div>

        <div class="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="2" opacity=".9"/>
            <path d="M16.5 16.5 21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity=".9"/>
          </svg>
          <input id="q" type="text" placeholder="T√¨m nhanh: c∆∞·ª°ng ch·∫ø, ƒë·ªông l·ª±c, quy tr√¨nh, th∆∞·ªüng ph·∫°t, thuy·∫øt ph·ª•c..." autocomplete="off" />
        </div>
      </div>
    </header>

    <section class="panel">
      <div class="topbar">
        <div class="crumbs">
          <a class="link" href="./index.html" title="Quay v·ªÅ trang mindmap">‚¨ÖÔ∏è Trang mindmap</a>
          <a class="link" href="./" title="M·ªü th∆∞ m·ª•c d·ª± √°n">üìÅ Trang ch·ªß</a>
        </div>
        <div class="meta">Tip: b·∫•m v√†o t·ª´ng m·ª•c ƒë·ªÉ m·ªü n·ªôi dung (accordion).</div>
      </div>

      <div class="content">
        <div class="grid" id="cards"></div>
      </div>
    </section>

    <footer>
      <div><b>G·ª£i √Ω thuy·∫øt tr√¨nh:</b> n√™u ‚Äút√¨nh hu·ªëng‚Äù ‚Üí ch·ªçn ‚Äúph∆∞∆°ng ph√°p‚Äù ‚Üí gi·∫£i th√≠ch ‚Äú∆∞u/nh∆∞·ª£c‚Äù ‚Üí ch·ªët ‚Äúc√°ch d√πng ƒë√∫ng‚Äù.</div>
      <div><b>Tu·ª≥ bi·∫øn:</b> s·ª≠a d·ªØ li·ªáu trong m·∫£ng <code>METHODS</code> ƒë·ªÉ ƒë·ªïi n·ªôi dung/nh√≥m/l·ªõp.</div>
    </footer>
  </div>

  <script>
    const el  = (s, r=document) => r.querySelector(s);
    const els = (s, r=document) => [...r.querySelectorAll(s)];

    const METHODS = [
      {
        id:"GD",
        title:"1) Gi√°o d·ª•c (Ch√≠nh tr·ªã ‚Äì T∆∞ t∆∞·ªüng)",
        kicker:"T√°c ƒë·ªông v√†o nh·∫≠n th·ª©c & ni·ªÅm tin ƒë·ªÉ t·∫°o th·ªëng nh·∫•t h√†nh ƒë·ªông.",
        tone:"ok",
        tag:"ƒê·ªãnh h∆∞·ªõng",
        pills:["B·ªÅn v·ªØng", "T√°c d·ª•ng d√†i h·∫°n", "X√¢y n·ªÅn vƒÉn ho√°"],
        objective:[
          "X√¢y d·ª±ng h·ªá gi√° tr·ªã chung v√† chu·∫©n m·ª±c h√†nh vi.",
          "T·∫°o s·ª± ƒë·ªìng thu·∫≠n v·ªÅ m·ª•c ti√™u v√† tr√°ch nhi·ªám t·∫≠p th·ªÉ."
        ],
        when:[
          "Khi ƒë·ªôi ng≈© thi·∫øu th·ªëng nh·∫•t, d·ªÖ dao ƒë·ªông tr∆∞·ªõc kh√≥ khƒÉn.",
          "Khi c·∫ßn x√¢y d·ª±ng vƒÉn ho√°, k·ª∑ lu·∫≠t t·ª± gi√°c, ƒë·∫°o ƒë·ª©c ngh·ªÅ nghi·ªáp."
        ],
        how:[
          "N√™u g∆∞∆°ng (lead by example): ng∆∞·ªùi l√£nh ƒë·∫°o l√†m tr∆∞·ªõc.",
          "Truy·ªÅn th√¥ng l·∫∑p l·∫°i: h·ªçp ng·∫Øn, t√†i li·ªáu 1 trang, th√¥ng ƒëi·ªáp nh·∫•t qu√°n.",
          "ƒê√†o t·∫°o theo t√¨nh hu·ªëng: case study thay v√¨ l√Ω thuy·∫øt kh√¥."
        ],
        pros:[
          "T·∫°o ƒë·ªông l·ª±c n·ªôi t·∫°i, gi·∫£m ph·ª• thu·ªôc ki·ªÉm so√°t b√™n ngo√†i.",
          "Gi·ªØ ƒë∆∞·ª£c t√≠nh ·ªïn ƒë·ªãnh trong d√†i h·∫°n (vƒÉn ho√° m·∫°nh)."
        ],
        cons:[
          "T√°c d·ª•ng ch·∫≠m; n·∫øu l√†m h√¨nh th·ª©c s·∫Ω ph·∫£n t√°c d·ª•ng.",
          "Kh√≥ ƒëo l∆∞·ªùng t·ª©c th·ªùi nh∆∞ KPI."
        ],
        example:[
          "T·ªï ch·ª©c sinh ho·∫°t chuy√™n ƒë·ªÅ/ƒë√†o t·∫°o gi√° tr·ªã c·ªët l√µi.",
          "Phong tr√†o thi ƒëua g·∫Øn v·ªõi chu·∫©n m·ª±c ·ª©ng x·ª≠ c·ª• th·ªÉ."
        ],
        keywords:["gi√°o d·ª•c","t∆∞ t∆∞·ªüng","ni·ªÅm tin","vƒÉn ho√°","ƒë·ªãnh h∆∞·ªõng","ƒë·ªìng thu·∫≠n"]
      },
      {
        id:"TLXH",
        title:"2) T√¢m l√Ω ‚Äì X√£ h·ªôi",
        kicker:"T√°c ƒë·ªông v√†o c·∫£m x√∫c, d∆∞ lu·∫≠n, quan h·ªá ƒë·ªÉ tƒÉng h·ª£p t√°c.",
        tone:"ok",
        tag:"G·∫Øn k·∫øt",
        pills:["Thuy·∫øt ph·ª•c", "ƒê·ªông vi√™n", "Gi·∫£m xung ƒë·ªôt"],
        objective:[
          "TƒÉng tinh th·∫ßn t√≠ch c·ª±c v√† s·ª± tin c·∫≠y trong nh√≥m.",
          "Gi·∫£m m√¢u thu·∫´n, tƒÉng h·ª£p t√°c, kh∆°i g·ª£i s√°ng t·∫°o."
        ],
        when:[
          "Khi cƒÉng th·∫≥ng cao, xung ƒë·ªôt tƒÉng, nƒÉng l∆∞·ª£ng ƒë·ªôi ng≈© gi·∫£m.",
          "Khi c·∫ßn lan to·∫£ h√†nh vi t·ªët, t·∫°o b·∫ßu kh√¥ng kh√≠ l√†m vi·ªác l√†nh m·∫°nh."
        ],
        how:[
          "Thuy·∫øt ph·ª•c b·∫±ng l·ª£i √≠ch chung + l·∫Øng nghe (active listening).",
          "Ghi nh·∫≠n ƒë√∫ng l√∫c: khen c·ª• th·ªÉ h√†nh vi, kh√¥ng khen chung chung.",
          "T·∫°o c∆° ch·∫ø ph·∫£n h·ªìi an to√†n: retro 15 ph√∫t/tu·∫ßn."
        ],
        pros:[
          "TƒÉng t·ª± gi√°c, gi·∫£m ƒë·ªëi ph√≥; n√¢ng ch·∫•t l∆∞·ª£ng ph·ªëi h·ª£p.",
          "Linh ho·∫°t, ph√π h·ª£p qu·∫£n tr·ªã con ng∆∞·ªùi."
        ],
        cons:[
          "Kh√≥ ƒë·ªãnh l∆∞·ª£ng; ph·ª• thu·ªôc k·ªπ nƒÉng l√£nh ƒë·∫°o.",
          "N·∫øu ‚Äòl·∫°m d·ª•ng c·∫£m x√∫c‚Äô d·ªÖ th√†nh m·ªã d√¢n ho·∫∑c thi√™n v·ªã."
        ],
        example:[
          "Team building c√≥ m·ª•c ti√™u (kh√¥ng ch·ªâ ƒëi ch∆°i): g·∫Øn v·ªõi gi√° tr·ªã h·ª£p t√°c.",
          "Vinh danh c√¥ng khai theo ti√™u ch√≠ r√µ r√†ng (minh b·∫°ch)."
        ],
        keywords:["t√¢m l√Ω","x√£ h·ªôi","thuy·∫øt ph·ª•c","ƒë·ªông vi√™n","kh√≠ch l·ªá","d∆∞ lu·∫≠n","g·∫Øn k·∫øt"]
      },
      {
        id:"KT",
        title:"3) Kinh t·∫ø",
        kicker:"D√πng ƒë√≤n b·∫©y l·ª£i √≠ch v·∫≠t ch·∫•t ƒë·ªÉ t·∫°o ƒë·ªông l·ª±c v√† k·ª∑ lu·∫≠t.",
        tone:"warn",
        tag:"ƒê·ªông l·ª±c",
        pills:["L∆∞∆°ng/Th∆∞·ªüng", "Kho√°n", "Ph·∫°t vi ph·∫°m"],
        objective:[
          "G·∫Øn k·∫øt qu·∫£ v·ªõi l·ª£i √≠ch: l√†m t·ªët ƒë∆∞·ª£c th∆∞·ªüng, sai b·ªã tr·ª´.",
          "T·∫°o c√¥ng b·∫±ng t∆∞∆°ng ƒë·ªëi v√† tƒÉng nƒÉng su·∫•t."
        ],
        when:[
          "Khi c√¥ng vi·ªác ƒëo ƒë∆∞·ª£c ƒë·∫ßu ra (s·ªë l∆∞·ª£ng, ch·∫•t l∆∞·ª£ng, doanh s·ªë).",
          "Khi c·∫ßn tƒÉng t·ªëc ho·∫∑c x·ª≠ l√Ω t√¨nh tr·∫°ng ‚Äòl√†m cho c√≥‚Äô."
        ],
        how:[
          "Thi·∫øt k·∫ø th∆∞·ªüng theo h√†nh vi ƒë√∫ng: th∆∞·ªüng KPI + th∆∞·ªüng ch·∫•t l∆∞·ª£ng.",
          "Tr√°nh ‚Äòth∆∞·ªüng b·ª´a‚Äô: quy ƒë·ªãnh ti√™u ch√≠, ng∆∞·ª°ng, th·ªùi ƒëi·ªÉm chi.",
          "K·∫øt h·ª£p v·ªõi minh b·∫°ch: c√¥ng khai nguy√™n t·∫Øc t√≠nh th∆∞·ªüng/ph·∫°t."
        ],
        pros:[
          "T√°c ƒë·ªông nhanh, d·ªÖ hi·ªÉu, d·ªÖ tri·ªÉn khai.",
          "TƒÉng tr√°ch nhi·ªám v·ªõi k·∫øt qu·∫£."
        ],
        cons:[
          "D·ªÖ t·∫°o th·ª±c d·ª•ng: ch·ªâ l√†m c√°i c√≥ th∆∞·ªüng.",
          "N·∫øu KPI sai ‚Üí t·ªëi ∆∞u nh·∫ßm; c√≥ th·ªÉ sinh c·∫°nh tranh x·∫•u."
        ],
        example:[
          "Th∆∞·ªüng theo m·ª•c ti√™u tu·∫ßn/th√°ng; kho√°n theo s·∫£n l∆∞·ª£ng ƒë·∫°t chu·∫©n.",
          "Ph·∫°t r√µ ƒëi·ªÅu kho·∫£n vi ph·∫°m h·ª£p ƒë·ªìng/quy ch·∫ø."
        ],
        keywords:["kinh t·∫ø","l∆∞∆°ng","th∆∞·ªüng","ph·∫°t","kpi","kho√°n","ƒë√≤n b·∫©y","v·∫≠t ch·∫•t"]
      },
      {
        id:"TC",
        title:"4) T·ªï ch·ª©c ‚Äì ƒêi·ªÅu khi·ªÉn",
        kicker:"Thi·∫øt k·∫ø b·ªô m√°y, ph√¢n c√¥ng, quy tr√¨nh ƒë·ªÉ h·ªá th·ªëng ch·∫°y tr∆°n.",
        tone:"warn",
        tag:"V·∫≠n h√†nh",
        pills:["Ph√¢n c√¥ng", "Quy tr√¨nh", "Ki·ªÉm so√°t"],
        objective:[
          "T·∫°o ‚Äòkhung x∆∞∆°ng‚Äô v·∫≠n h√†nh: r√µ vai tr√≤, r√µ lu·ªìng c√¥ng vi·ªác.",
          "Gi·∫£m ch·ªìng ch√©o v√† t·ªëi ∆∞u ph·ªëi h·ª£p."
        ],
        when:[
          "Khi nh√≥m l·ªõn d·∫ßn, vi·ªác nhi·ªÅu, d·ªÖ r·ªëi/ch·ªìng ch√©o.",
          "Khi c·∫ßn ki·ªÉm so√°t ch·∫•t l∆∞·ª£ng v√† ti·∫øn ƒë·ªô theo chu·∫©n."
        ],
        how:[
          "V·∫Ω s∆° ƒë·ªì tr√°ch nhi·ªám: RACI/DRI + m√¥ t·∫£ c√¥ng vi·ªác (JD).",
          "Chu·∫©n ho√° quy tr√¨nh: ƒë·∫ßu v√†o ‚Üí x·ª≠ l√Ω ‚Üí ƒë·∫ßu ra + checkpoint ch·∫•t l∆∞·ª£ng.",
          "D√πng c√¥ng c·ª•: kanban, checklist, h·ªçp nh·ªãp (daily/weekly)."
        ],
        pros:[
          "Khoa h·ªçc, d·ªÖ nh√¢n r·ªông; gi·∫£m ph·ª• thu·ªôc c√° nh√¢n.",
          "TƒÉng ·ªïn ƒë·ªãnh, gi·∫£m sai s√≥t v·∫≠n h√†nh."
        ],
        cons:[
          "B·ªô m√°y c·ªìng k·ªÅnh ‚Üí ch·∫≠m; quy tr√¨nh r∆∞·ªùm r√† ‚Üí √°ch t·∫Øc.",
          "N·∫øu qu√° c·ª©ng s·∫Ω b√≥p ngh·∫πt s√°ng t·∫°o."
        ],
        example:[
          "Chu·∫©n onboarding: t√†i li·ªáu 1 trang + checklist tu·∫ßn ƒë·∫ßu.",
          "Quy tr√¨nh m·ªôt c·ª≠a: gi·∫£m v√≤ng ph√™ duy·ªát, r√µ ƒë·∫ßu m·ªëi."
        ],
        keywords:["t·ªï ch·ª©c","ƒëi·ªÅu khi·ªÉn","b·ªô m√°y","ph√¢n c√¥ng","quy tr√¨nh","iso","jd","raci","dri"]
      },
      {
        id:"HCPL",
        title:"5) H√†nh ch√≠nh ‚Äì Ph√°p lu·∫≠t",
        kicker:"D·ª±a tr√™n quy·ªÅn l·ª±c, quy ƒë·ªãnh v√† t√≠nh c∆∞·ª°ng ch·∫ø ƒë·ªÉ l·∫≠p k·ª∑ c∆∞∆°ng.",
        tone:"bad",
        tag:"K·ª∑ c∆∞∆°ng",
        pills:["Quy ƒë·ªãnh", "C∆∞·ª°ng ch·∫ø", "X·ª≠ l√Ω nhanh"],
        objective:[
          "Thi·∫øt l·∫≠p tr·∫≠t t·ª±, k·ª∑ lu·∫≠t v√† chu·∫©n m·ª±c b·∫Øt bu·ªôc tu√¢n th·ªß.",
          "Gi·∫£i quy·∫øt t√¨nh hu·ªëng kh·∫©n c·∫•p/vi ph·∫°m n·∫∑ng."
        ],
        when:[
          "Khi c·∫ßn quy·∫øt ƒë·ªãnh nhanh, r·ªßi ro cao, kh√¥ng th·ªÉ ‚Äòth·ª≠ sai‚Äô.",
          "Khi c√≥ vi ph·∫°m r√µ r√†ng c·∫ßn x·ª≠ l√Ω ƒë·ªÉ rƒÉn ƒëe v√† b·∫£o v·ªá h·ªá th·ªëng."
        ],
        how:[
          "Quy ƒë·ªãnh ph·∫£i r√µ: ƒëi·ªÅu kho·∫£n ‚Äì ch·∫ø t√†i ‚Äì quy tr√¨nh x·ª≠ l√Ω.",
          "√Åp d·ª•ng c√¥ng b·∫±ng, c√≥ bi√™n b·∫£n v√† b·∫±ng ch·ª©ng.",
          "K·∫øt h·ª£p gi√°o d·ª•c/t√¢m l√Ω ƒë·ªÉ gi·∫£m ƒë·ªëi ph√≥ v·ªÅ l√¢u d√†i."
        ],
        pros:[
          "Nhanh, m·∫°nh, t·∫°o k·ª∑ c∆∞∆°ng r√µ r·ªát.",
          "Ph√π h·ª£p x·ª≠ l√Ω kh·∫©n c·∫•p ho·∫∑c vi ph·∫°m nghi√™m tr·ªçng."
        ],
        cons:[
          "C·ª©ng nh·∫Øc; d·ªÖ quan li√™u n·∫øu l·∫°m d·ª•ng.",
          "C√≥ th·ªÉ t·∫°o t√¢m l√Ω s·ª£ sai v√† ƒë·ªëi ph√≥."
        ],
        example:[
          "Ban h√†nh n·ªôi quy, quy ch·∫ø; quy·∫øt ƒë·ªãnh k·ª∑ lu·∫≠t theo quy tr√¨nh.",
          "√Åp d·ª•ng quy ƒë·ªãnh an to√†n (PCCC, an ninh th√¥ng tin) b·∫Øt bu·ªôc."
        ],
        keywords:["h√†nh ch√≠nh","ph√°p lu·∫≠t","quy ƒë·ªãnh","c∆∞·ª°ng ch·∫ø","k·ª∑ lu·∫≠t","ch·∫ø t√†i","kh·∫©n c·∫•p"]
      }
    ];

    const SITUATIONS = [
      {
        id:"s1",
        title:"ƒê·ªôi ng≈© thi·∫øu th·ªëng nh·∫•t, d·ªÖ dao ƒë·ªông",
        hint:"C·∫ßn x√¢y n·ªÅn gi√° tr·ªã & ƒë·ªìng thu·∫≠n",
        weights:{ GD:3, TLXH:2, TC:1, KT:0, HCPL:0 }
      },
      {
        id:"s2",
        title:"Xung ƒë·ªôt tƒÉng, tinh th·∫ßn gi·∫£m, h·ª£p t√°c k√©m",
        hint:"C·∫ßn gi·∫£i to·∫£ t√¢m l√Ω, c·∫£i thi·ªán quan h·ªá",
        weights:{ TLXH:3, GD:1, TC:1, KT:0, HCPL:0 }
      },
      {
        id:"s3",
        title:"C·∫ßn tƒÉng t·ªëc k·∫øt qu·∫£ ƒëo ƒë∆∞·ª£c (doanh s·ªë/s·∫£n l∆∞·ª£ng)",
        hint:"C·∫ßn ƒë·ªông l·ª±c r√µ r√†ng theo ƒë·∫ßu ra",
        weights:{ KT:3, TC:2, TLXH:1, GD:0, HCPL:0 }
      },
      {
        id:"s4",
        title:"Quy tr√¨nh r·ªëi, ch·ªìng ch√©o, hay tr·ªÖ h·∫°n",
        hint:"C·∫ßn thi·∫øt k·∫ø l·∫°i v·∫≠n h√†nh",
        weights:{ TC:3, KT:1, TLXH:1, GD:0, HCPL:0 }
      },
      {
        id:"s5",
        title:"Vi ph·∫°m nghi√™m tr·ªçng / t√¨nh hu·ªëng kh·∫©n c·∫•p",
        hint:"C·∫ßn x·ª≠ l√Ω nhanh, l·∫≠p k·ª∑ c∆∞∆°ng",
        weights:{ HCPL:3, TC:2, GD:1, TLXH:0, KT:0 }
      }
    ];

    const cardsRoot = el("#cards");
    const q = el("#q");
    const btnTheme = el("#btnTheme");
    const btnExpand = el("#btnExpand");
    const btnReset = el("#btnReset");

    let isAllOpen = false;

    function toneColor(tone){
      if(tone==="ok") return "var(--ok)";
      if(tone==="warn") return "var(--warn)";
      return "var(--bad)";
    }

    function escapeHtml(s){
      return String(s).replace(/[&<>"']/g, c => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"
      }[c]));
    }

    function highlight(text, query){
      if(!query) return escapeHtml(text);
      const safe = escapeHtml(text);
      const re = new RegExp("(" + query.replace(/[.*+?^${}()|[\]\\]/g, "\\$&") + ")", "ig");
      return safe.replace(re, "<mark>$1</mark>");
    }

    function cardHTML(m, query){
      const dot = toneColor(m.tone);
      return `
        <article class="card two" data-method="${m.id}">
          <div class="h">
            <div>
              <h3>${highlight(m.title, query)}</h3>
              <div class="k">${highlight(m.kicker, query)}</div>
            </div>
            <div class="badge" title="Nh√≥m t√°c ƒë·ªông ch√≠nh">
              <span class="dot" style="background:${dot}"></span>
              ${escapeHtml(m.tag)}
            </div>
          </div>

          <div class="pillRow">
            ${m.pills.map(p => `<span class="pill">${escapeHtml(p)}</span>`).join("")}
          </div>

          <details>
            <summary>
              <span>üéØ M·ª•c ti√™u & Khi d√πng</span>
              <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </summary>
            <div class="body">
              <b>M·ª•c ti√™u:</b>
              <ul>${m.objective.map(x => `<li>${highlight(x, query)}</li>`).join("")}</ul>
              <b>Khi n√™n d√πng:</b>
              <ul>${m.when.map(x => `<li>${highlight(x, query)}</li>`).join("")}</ul>
            </div>
          </details>

          <details>
            <summary>
              <span>üß† C√°ch tri·ªÉn khai (How)</span>
              <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </summary>
            <div class="body">
              <ul>${m.how.map(x => `<li>${highlight(x, query)}</li>`).join("")}</ul>
            </div>
          </details>

          <details>
            <summary>
              <span>‚úÖ ∆Øu ƒëi·ªÉm ‚Ä¢ ‚ö†Ô∏è H·∫°n ch·∫ø</span>
              <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </summary>
            <div class="body">
              <b>∆Øu ƒëi·ªÉm:</b>
              <ul>${m.pros.map(x => `<li>${highlight(x, query)}</li>`).join("")}</ul>
              <b>H·∫°n ch·∫ø:</b>
              <ul>${m.cons.map(x => `<li>${highlight(x, query)}</li>`).join("")}</ul>
            </div>
          </details>

          <details>
            <summary>
              <span>üß™ V√≠ d·ª• ·ª©ng d·ª•ng</span>
              <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </summary>
            <div class="body">
              <ul>${m.example.map(x => `<li>${highlight(x, query)}</li>`).join("")}</ul>
            </div>
          </details>
        </article>
      `;
    }

    function quizHTML(){
      return `
        <article class="card full">
          <div class="h">
            <div>
              <h3>üîé Ch·ªçn ph∆∞∆°ng ph√°p theo t√¨nh hu·ªëng (g·ª£i √Ω nhanh)</h3>
              <div class="k">Ch·ªçn 1‚Äì3 t√¨nh hu·ªëng ‚Üí h·ªá th·ªëng s·∫Ω ƒë·ªÅ xu·∫•t ph∆∞∆°ng ph√°p ph√π h·ª£p nh·∫•t.</div>
            </div>
            <div class="badge" title="G·ª£i √Ω l·ª±a ch·ªçn">
              <span class="dot" style="background:var(--accent2)"></span>
              Decision Helper
            </div>
          </div>

          <div class="quiz">
            <div>
              ${SITUATIONS.map(s => `
                <div class="check">
                  <input type="checkbox" id="${s.id}" data-sit="${s.id}">
                  <label for="${s.id}">
                    <b>${escapeHtml(s.title)}</b>
                    <div class="small">${escapeHtml(s.hint)}</div>
                  </label>
                </div>
              `).join("")}

              <div class="small">M·∫πo: trong th·ª±c t·∫ø th∆∞·ªùng ph·∫£i <b>k·∫øt h·ª£p</b> (v√≠ d·ª•: T·ªï ch·ª©c‚Äìƒêi·ªÅu khi·ªÉn + Kinh t·∫ø + T√¢m l√Ω‚ÄìX√£ h·ªôi).</div>
            </div>

            <div>
              <div class="result" id="resultBox">
                <b>K·∫øt qu·∫£ g·ª£i √Ω:</b>
                <div class="small" id="resultText">Ch∆∞a ch·ªçn t√¨nh hu·ªëng n√†o.</div>
                <div class="scoreRow" id="scoreRow"></div>
              </div>

              <div class="result">
                <b>Nguy√™n t·∫Øc ph·ªëi h·ª£p ‚Äúƒë√∫ng b√†i‚Äù:</b>
                <div class="small" style="margin-top:6px">
                  ‚Ä¢ D√†i h·∫°n: <b>Gi√°o d·ª•c</b> + <b>T√¢m l√Ω‚ÄìX√£ h·ªôi</b><br>
                  ‚Ä¢ V·∫≠n h√†nh: <b>T·ªï ch·ª©c‚Äìƒêi·ªÅu khi·ªÉn</b> (x∆∞∆°ng s·ªëng)<br>
                  ‚Ä¢ TƒÉng t·ªëc: <b>Kinh t·∫ø</b> (ƒë√≤n b·∫©y)<br>
                  ‚Ä¢ K·ª∑ c∆∞∆°ng/kh·∫©n c·∫•p: <b>H√†nh ch√≠nh‚ÄìPh√°p lu·∫≠t</b> (ch·ªët ch·∫∑n)
                </div>
              </div>
            </div>
          </div>
        </article>
      `;
    }

    function setAllDetails(open){
      els("details").forEach(d => d.open = open);
    }

    function render(query=""){
      const ql = query.trim().toLowerCase();

      const visible = METHODS.filter(m => {
        if(!ql) return true;
        const blob = [
          m.title, m.kicker, m.tag,
          ...m.pills, ...m.objective, ...m.when, ...m.how, ...m.pros, ...m.cons, ...m.example,
          ...m.keywords
        ].join(" ").toLowerCase();
        return blob.includes(ql);
      });

      cardsRoot.innerHTML =
        quizHTML() +
        visible.map(m => cardHTML(m, query)).join("");

      // keep expand state
      if(isAllOpen) setAllDetails(true);

      // wire quiz listeners again (because rerender)
      wireQuiz();
    }

    function getTheme(){
      return document.documentElement.getAttribute("data-theme") || "dark";
    }
    function setTheme(next){
      document.documentElement.setAttribute("data-theme", next);
      localStorage.setItem("theme", next);
    }
    function initTheme(){
      const saved = localStorage.getItem("theme");
      if(saved) setTheme(saved);
      else {
        const prefersLight = window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches;
        setTheme(prefersLight ? "light" : "dark");
      }
    }

    function computeSuggestion(selectedIds){
      const scores = { GD:0, TLXH:0, KT:0, TC:0, HCPL:0 };

      selectedIds.forEach(id => {
        const sit = SITUATIONS.find(s => s.id === id);
        if(!sit) return;
        Object.keys(scores).forEach(k => scores[k] += (sit.weights[k] || 0));
      });

      const sorted = Object.entries(scores)
        .sort((a,b) => b[1] - a[1]);

      return { scores, sorted };
    }

    function labelFor(methodId){
      const m = METHODS.find(x => x.id === methodId);
      return m ? m.title.replace(/^\d+\)\s*/, "") : methodId;
    }

    function wireQuiz(){
      const checks = els('[data-sit]');
      const resultText = el("#resultText");
      const scoreRow = el("#scoreRow");

      if(!checks.length) return;

      function update(){
        const picked = checks.filter(c => c.checked).map(c => c.getAttribute("data-sit"));
        if(!picked.length){
          resultText.textContent = "Ch∆∞a ch·ªçn t√¨nh hu·ªëng n√†o.";
          scoreRow.innerHTML = "";
          return;
        }

        const { sorted } = computeSuggestion(picked);
        const top = sorted.filter(([,v]) => v>0).slice(0,3);

        const topText = top.length
          ? "∆Øu ti√™n: " + top.map(([k]) => labelFor(k)).join(" ‚Ä¢ ")
          : "Ch∆∞a ƒë·ªß t√≠n hi·ªáu ƒë·ªÉ g·ª£i √Ω r√µ (h√£y ch·ªçn th√™m t√¨nh hu·ªëng).";

        resultText.textContent = topText;

        scoreRow.innerHTML = sorted.map(([k,v]) => {
          const tone = METHODS.find(m => m.id===k)?.tone || "warn";
          const dot = toneColor(tone);
          return `
            <span class="chip" title="ƒêi·ªÉm ph√π h·ª£p">
              <span class="dot" style="background:${dot}"></span>
              ${escapeHtml(k)}: ${v}
            </span>
          `;
        }).join("");
      }

      checks.forEach(c => c.addEventListener("change", update));
      update();
    }

    // Events
    btnTheme.addEventListener("click", () => {
      const next = getTheme()==="light" ? "dark" : "light";
      setTheme(next);
    });

    btnExpand.addEventListener("click", () => {
      isAllOpen = !isAllOpen;
      setAllDetails(isAllOpen);
      btnExpand.textContent = isAllOpen ? "üìå ƒê√≥ng t·∫•t c·∫£" : "üìå M·ªü t·∫•t c·∫£";
    });

    q.addEventListener("input", () => render(q.value));

    btnReset.addEventListener("click", () => {
      q.value = "";
      isAllOpen = false;
      btnExpand.textContent = "üìå M·ªü t·∫•t c·∫£";
      render("");
      // reset quiz
      els('[data-sit]').forEach(c => c.checked = false);
      wireQuiz();
    });

    // Init
    initTheme();
    render("");
  </script>
</body>
</html>
